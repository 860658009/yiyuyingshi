(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/kankan/kankan"],{"28ff":function(t,i,e){"use strict";(function(t){e("3079");n(e("66fd"));var i=n(e("b3fb"));function n(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("543d")["createPage"])},"2ee2":function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(e("c32e"));function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var i=a();if(i&&i.has(t))return i.get(t);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(e,o,s):e[o]=t[o]}return e.default=t,i&&i.set(t,e),e}var s=getApp().globalData,d=null,r={data:function(){return{theme:s.$theme,ShowPlay:!0,isPlay:!1,voddata:{},isSc:!1,laiyuanindex:0,index:0,episode:0,showContent:!1,likedata:{},vod_content:"",showControls:!0,vodxuanji:!1,initialTime:0,currentTime:0,objectFit:"contain",vod_tip:!0,tipShow:!1,tipText:"正在解析影片",playurl:"",playIcon:"",xuanjiid:"g0",wxAdId:[],adNum:0,second:0,points:!0,videoPlay:!1,myVideo:"",adPlay:!0,maskClick:!1,mylist:[{text:"选集列表",icon:"",color:"#55aaff"},{text:"倍速播放",icon:"",color:"#ff8e3d"},{text:"播放链接",icon:"",color:"#aa007f"},{text:"客服反馈",icon:"",color:"#ff007f"}],rate:"1.0",adViewContent:"该视频需要解锁后观看!",gg:[],notice:"",fullscreen:!1,showGz:!0,danmuList:[{text:"请勿相信视频内广告",color:"#ff0000",time:1},{text:"本软件永久免费,为避免小程序被封,请关注下方备用小程序!",color:"#ff00ff",time:3}],message:!1,statement:"免责声明:本软件资源均来源于网络整理,不储存任何资源,版权属于原作者,如无意侵犯您的版权,请反馈告知,我们给予删除,谢谢!"}},onLoad:function(i){var e=this,n=this;this.wxAdId=s.$config.play.wxAdId,this.gg=s.$config.play.gg,this.second=parseInt(s.$config.play.second),this.danmuList=s.$config.play.danmuList,this.statement=s.$config.wode.statement,s.$wxverify||""==i.id?(s.$wxverify=!0,this.BackPage()):(this.isPlay=!0,t.getStorageSync("$voddata").vod_id==i.id&&(this.voddata=t.getStorageSync("$voddata"),this.getLSDB())),wx.createInterstitialAd&&this.wxAdId.cpId&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:this.wxAdId.cpId}),this.interstitialAd.onLoad((function(){})),this.interstitialAd.onError((function(t){})),this.interstitialAd.onClose((function(){e.interstitialAd.destroy(),e.interstitialAd=null}))),wx.createRewardedVideoAd&&this.wxAdId.jlspId&&(d=wx.createRewardedVideoAd({adUnitId:this.wxAdId.jlspId}),d.onLoad((function(){})),d.onError((function(t){})),d.onClose((function(i){if(i&&i.isEnded){s.$points=!1,e.myVideo.play();var a=t.getStorageSync("$adNum");t.setStorageSync("$adNum",a+1);var o=parseInt(Date.parse(new Date))/1e3;t.setStorageSync("$interval",o)}else{n.points=!0;var d="广告完成后才可继续播放,每天观看2次我就消失!";s.$config.play.adMsg.hasOwnProperty("close")&&(d=s.$config.play.adMsg.close),t.showModal({content:d,confirmColor:"#ff9900",success:function(t){t.confirm?n.adTab():n.myVideo.play()}})}})))},onReady:function(){var i=this;i.myVideo=t.createVideoContext("myVideo"),i.interstitialAd&&i.wxAdId.cpId&&setTimeout((function(){i.interstitialAd.show().catch((function(t){console.error(t)}))}),1e3)},onShow:function(){t.setKeepScreenOn({keepScreenOn:!0})},onHide:function(){t.setKeepScreenOn({keepScreenOn:!1})},onShareAppMessage:function(i){var e=t.getStorageSync("$userInfo").user_id,n="/pages/detail/detail?id="+this.voddata.vod_id;e&&(n="pages/detail/detail?uid="+e+"&id="+this.voddata.vod_id),s.$points=!1,this.myVideo.play();var a=t.getStorageSync("$adNum");t.setStorageSync("$adNum",a+1);var o=parseInt(Date.parse(new Date))/1e3;return t.setStorageSync("$interval",o),this.$refs.adPopup.close(),{title:this.voddata.vod_name+"在线观看",path:n,imageUrl:this.voddata.vod_pic,success:function(t){console.log("success")},fail:function(){console.log("success")},complete:function(){console.log("complete")}}},onBackPress:function(i){this.addDB(),t.setKeepScreenOn({keepScreenOn:!1})},onUnload:function(){this.addDB(),t.setKeepScreenOn({keepScreenOn:!1})},mounted:function(){},methods:{contenTab:function(){this.showContent=!this.showContent},vodlist:function(){this.vodxuanji=!1,this.showControls=!0},themeTab:function(){this.fullscreen?(this.showControls=!1,this.vodxuanji=!0):"black"==this.theme?this.theme="white":this.theme="black"},refresh:function(i){var e=this;t.showLoading({mask:!0,title:"加载中..."});var n=this,a=this.md5(this.mark+"App.Mov.GetOnlineMvById"+i),o=this.cjurl+"wxApi/public/?service=App.Mov.GetOnlineMvById&vodid="+i+"&mark="+this.mark+"&sign="+a;this.api.apiRequest(o).then((function(i){200==i.Code&&(n.voddata=e.api.vodCl(i.Data[0]),n.getLSDB(),t.hideLoading())}))},getlike:function(i){var e=this,n=t.getStorageSync("$likedata");if(void 0!=i&&23!=i||(i=1),""==n||n[0].type_id!=i){var a=this.md5(i+"121App.Mov.GetHomeLevelAll"),o=cjurl+"wxApi/public/?service=App.Mov.GetHomeLevelAll&level="+i+"&limit=12&page=1&sign="+a;this.api.apiRequest(o).then((function(t){200==t.Code&&(e.likedata=t.Data.list)}))}else this.likedata=n},getDate:function(t){t!=this.voddata.vod_id&&(this.myVideo.stop(),this.playurl="",this.addDB(),this.refresh(t))},getLSDB:function(){var t=this.db.getLSDB(this.voddata.vod_id);"{}"!=JSON.stringify(t)?(this.laiyuanindex=Number(t.laiyuanindex),this.index=Number(t.index),this.initialTime=Number(t.initialTime),this.isSc=t.shoucang,this.getPlayUrl(this.laiyuanindex,this.index)):(this.isSc=!1,this.laiyuanindex=0,this.index=0,this.initialTime=0,this.getPlayUrl(this.laiyuanindex,this.index)),"1"==s.$config.site.message.radio&&(this.message=!0)},addDB:function(){var t={vod_id:this.voddata.vod_id,vod_pic:this.voddata.vod_pic,vod_name:this.voddata.vod_name,lishi:!0,shoucang:this.isSc,laiyuanindex:this.laiyuanindex,initialTime:this.currentTime,index:this.index};this.db.setLSDB(t)},scTab:function(i,e){this.isSc=!this.isSc;var n={vod_id:e.vod_id,vod_pic:e.vod_pic,vod_name:e.vod_name,lishi:!0,shoucang:this.isSc,laiyuanindex:this.laiyuanindex,initialTime:this.currentTime,index:this.index};this.db.scDB(n);var a="收藏成功";a=this.isSc?"收藏成功":"取消收藏",t.showToast({title:a,icon:"success",duration:2e3})},getPlayUrl:function(t,i){var e=this.voddata.vod_play_url[t][1][i].src;this.episode=this.voddata.vod_play_url[t][1].length,this.adPlay=!0,-1!=e.indexOf(".m3u8")||-1!=e.indexOf(".mp4")?(this.tipShow=!0,this.tipText="加载成功,即将播放",this.playurl=e):this.getjx(e,this.voddata.vod_play_url[t][3])},getjx:function(t,i){var e=this;t=n.b64_encode(t),this.tipShow=!0,this.tipText="正在解析影片";var a=this.md5(i+this.mark+"App.JX.VipJX"+t),o=this.cjurl+"wxApi/public/?service=App.JX.VipJX&url="+t+"&form="+i+"&mark="+this.mark+"&sign="+a;this.api.apiRequest(o).then((function(t){200==t.Code&&(200==t.Data.code?(e.playurl=t.Data.url,e.tipText="加载成功,即将播放"):(e.tipText="加载失败,正在切换线路",e.laiyuanindex=Number(e.laiyuanindex),e.laiyuanindex+1<e.voddata.vod_play_from.length?(e.laiyuanindex+=1,e.getPlayUrl(e.laiyuanindex,e.index)):e.tipText="加载失败,切换线路试试"))}),(function(t){e.tipText="加载失败,正在切换线路",e.laiyuanindex+1<e.voddata.vod_play_from.length?(e.laiyuanindex+=1,e.getPlayUrl(e.laiyuanindex,e.index)):e.tipText="加载失败,切换线路试试"}))},xuanjitab:function(t){this.index!=t&&(this.myVideo.pause(),this.mylist[1].icon="",this.rate="1.0",this.index=t,this.initialTime=0,this.playurl="",this.getPlayUrl(this.laiyuanindex,this.index)),this.$refs.xuanjipopup.close()},laiyuanClick:function(t){console.log(this.initialTime),this.laiyuanindex!=t&&(this.mylist[1].icon="",this.rate="1.0",this.laiyuanindex=t,this.initialTime=this.currentTime,this.myVideo.stop(),this.getPlayUrl(this.laiyuanindex,this.index))},laiyuanTab:function(i){switch(i){case 0:this.$refs.xuanjipopup.open();break;case 1:var e=["1.0","1.25","1.5","2.0"],n=["","","",""],a=e.indexOf(this.rate);3==a?a=0:a+=1,this.mylist[1].icon=n[a],this.rate=e[a],this.myVideo.playbackRate(Number(e[a]));break;case 2:t.setClipboardData({data:this.playurl,success:function(i){t.showToast({title:"复制成功,浏览器打开!",icon:"none",duration:5e3})}});break;case 3:"0"==s.$config.site.kefu.type?(t.setStorageSync("$web",s.$config.site.kefu.url),t.navigateTo({url:"../web/web"})):s.$config.site.kefu.url&&wx.previewImage({current:s.$config.site.kefu.url,urls:[s.$config.site.kefu.url]});break}},Reverse:function(){this.$refs.xuanjipopup.open()},BackPage:function(){t.navigateBack({delta:1})},BackIndex:function(){t.switchTab({url:"/pages/index/index"})},play:function(){this.videoPlay=!0,this.tipShow=!1},pause:function(){this.videoPlay=!1},ended:function(){0!=this.episode&&this.index+1<this.episode?(this.index=this.index+1,this.mylist[1].icon="",this.rate="1.0",this.initialTime=0,this.playurl="",this.tipShow=!0,this.tipText="即将播放下一集...",this.getPlayUrl(this.laiyuanindex,this.index)):this.myVideo.stop()},clickFull:function(t){"contain"==this.objectFit?this.objectFit="fill":this.objectFit="contain"},controlstoggle:function(t){this.vod_tip=t.detail.show},fullscreenchange:function(t){this.fullscreen=t.detail.fullScreen},seek:function(t){this.myVideo.seek(this.currentTime+t)},timeupdate:function(t){var i=this;i.currentTime=Math.floor(t.detail.currentTime),i.points&&s.$points&&i.currentTime>i.second&&i.videoPlay&&d&&(i.fullscreen&&i.myVideo.exitFullScreen(),setTimeout((function(){i.points=!1,i.videoPlay=!1,i.myVideo.pause(),i.$refs.adPopup.open()}),300))},loadedmetadata:function(){},adTab:function(){var t=this;this.$refs.adPopup.close(),d&&d.show().catch((function(){d.load().then((function(){return d.show()})).catch((function(i){s.$points=!1,t.myVideo.play()}))}))},laiyuanIcon:function(){switch(this.mylist[0].text=this.voddata.vod_play_from[this.laiyuanindex],this.voddata.vod_play_url[this.laiyuanindex][0]){case"qq":this.mylist[0].icon="";break;case"qiyi":this.mylist[0].icon="";break;case"youku":this.mylist[0].icon="";break;case"mgtv":this.mylist[0].icon="";break;default:this.mylist[0].icon=""}},barRight:function(){},binderror:function(t){this.showGz=!1},bindload:function(t){this.showGz=!0}},watch:{index:{handler:function(i,e){var n=i-2,a="g"+n;this.xuanjiid=a;var o=parseInt(Date.parse(new Date))/1e3;this.points=!0,"1"==s.$config.play.isPoints&&t.getStorageSync("$adNum")<parseInt(s.$config.play.num)&&o-t.getStorageSync("$interval")>parseInt(s.$config.play.interval)&&(s.$points=!0)}},videoPlay:{handler:function(i,e){i?(this.tipShow=!1,t.setKeepScreenOn({keepScreenOn:!0})):(t.setKeepScreenOn({keepScreenOn:!1}),this.myVideo.pause())}}},computed:{scrollViewId:function(){return this.xuanjiid}}};i.default=r}).call(this,e("543d")["default"])},"4d94":function(t,i,e){"use strict";var n=e("d1a3"),a=e.n(n);a.a},"734e":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uniBar:function(){return Promise.all([e.e("common/vendor"),e.e("components/uni-bar/uni-bar")]).then(e.bind(null,"9a28"))},narBar:function(){return e.e("components/narBar/narBar").then(e.bind(null,"0b0a"))},customAd:function(){return e.e("components/custom-ad/custom-ad").then(e.bind(null,"dac9"))},uniAd:function(){return e.e("components/uni-ad/uni-ad").then(e.bind(null,"e53c"))},strugglerUniappAddTip:function(){return e.e("components/struggler-uniapp-add-tip/struggler-uniapp-add-tip").then(e.bind(null,"01a6"))},uniPopup:function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"8930"))},reverseList:function(){return Promise.all([e.e("common/vendor"),e.e("components/reverse-list/reverse-list")]).then(e.bind(null,"294c"))},message:function(){return e.e("components/message/message").then(e.bind(null,"6def"))}},a=function(){var t=this,i=t.$createElement;t._self._c},o=[]},a007:function(t,i,e){"use strict";e.r(i);var n=e("2ee2"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},b3fb:function(t,i,e){"use strict";e.r(i);var n=e("734e"),a=e("a007");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("4d94");var s,d=e("f0c5"),r=Object(d["a"])(a["default"],n["b"],n["c"],!1,null,"0d50a2a8",null,!1,n["a"],s);i["default"]=r.exports},d1a3:function(t,i,e){}},[["28ff","common/runtime","common/vendor"]]]);